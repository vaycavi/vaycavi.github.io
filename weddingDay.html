<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Day</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/weddingDayStyles.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.5/brython.min.js"></script>
    <script>
        function goBack() {
            window.history.back();
        }

        // Function to get query parameter from the URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Function to set the language
        function setLanguage(lang) {
            document.querySelectorAll('.en').forEach(el => el.style.display = (lang === 'en') ? 'block' : 'none');
            document.querySelectorAll('.es').forEach(el => el.style.display = (lang === 'es') ? 'block' : 'none');

            localStorage.setItem('language', lang);

            // Update the URL without reloading the page
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.history.replaceState({}, '', url);
        }

        (function initializeLanguage() {
            const urlLang = getQueryParam('lang');
            const storedLang = localStorage.getItem('language');
            const language = urlLang || storedLang || 'es';

            // Apply language immediately
            document.addEventListener('DOMContentLoaded', () => {
                setLanguage(language);
                window.scrollTo(0, 0);  // Ensure the page scrolls to the top
            });

            // Store language if it's from the URL
            if (urlLang) {
                localStorage.setItem('language', urlLang);
            }
        })();

    </script>
</head>

<body onload="brython()">
    <!-- Top Navigation Bar -->
    <header>
        <div class="top-bar">

            <div class="menu">
                <div class="hamburger en" onclick="window.location.href='index.html'">‚Üê Main Page</div> <!-- English Version -->
                <div class="hamburger es" onclick="window.location.href='index.html'">‚Üê P√°gina Principal</div> <!-- Spanish Version -->
            </div>
            <!-- Challenges Button (on the right) -->
            <div class="challenges">
                <button class="center-btn en" onclick="window.location.href='games.html'">I am feeling lucky ü§©</button>
                <button class="center-btn es" onclick="window.location.href='games.html'">Quiero meter la pata
                    ü•¥</button>
            </div>
            <!-- Language Flags in the Top Bar -->
            <div class="language-selector">
                <button class="flag-btn en" onclick="setLanguage('es')">üá™üá∏</button>
                <button class="flag-btn es" onclick="setLanguage('en')">üá¨üáß</button>
            </div>

        </div>
    </header>

    <div class="main-content">
        <!-- Wedding Day Section -->
        <section id="weddingDay" class="wedding-day">
            <div class="qr-code-section en">
                <a href="https://pov.camera/qr/F08CB17A-BD3E-4394-8B95-EE1A0445F443" target="_blank"> <!-- Wrap the image with a link -->
                    <img src="fotos/MiscelaÃÅnea Boda en.png" alt="QR Code" class="qr-image">
                </a>
            </div>
            <div class="qr-code-section es">
                <a href="https://pov.camera/qr/F08CB17A-BD3E-4394-8B95-EE1A0445F443" target="_blank"> <!-- Wrap the image with a link -->
                    <img src="fotos/MiscelaÃÅnea Boda.png" alt="QR Code" class="qr-image">
                </a>
            </div>
        </section>
        
        <section id="Misc">
            <!-- Discord Join Button -->
            <div class="discord-btn-container">
                <a href="https://discord.gg/efnYg5PZ" target="_blank">
                    <button class="discord-btn en">Join the chat!</button>
                    <button class="discord-btn es">¬°√önete al chat!</button>
                </a>
            </div>
        </section>
    </div>

    <!-- Inline JavaScript for scroll behavior -->
    <script>
        let lastScrollTop = 0; // Variable to store last scroll position

        window.addEventListener('scroll', function () {
            let currentScroll = window.pageYOffset || document.documentElement.scrollTop;

            if (currentScroll > lastScrollTop) {
                // Scrolling down, hide the top bar
                document.querySelector('.top-bar').style.top = '-60px'; // Adjust to the height of the top bar
            } else {
                // Scrolling up, show the top bar
                document.querySelector('.top-bar').style.top = '0';
            }

            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // Prevent negative scroll values
        });
    </script>

</body>

</html>