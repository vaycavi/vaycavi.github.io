<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rowing Game</title>
    <style>
        body {
            margin: 0;
            background: black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #game-container {
            position: relative;
            width: 50%;
            height: 70%;
            background: #1d3557;
            border: 5px solid #f1faee;
            overflow: hidden;
        }

        .shore {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 15%;
        }

        .shore.left {
            left: 0;
            background: linear-gradient(to left, #e9c46a 5%, #2a9d39 45%);
        }

        .shore.right {
            right: 0;
            background: linear-gradient(to right, #e9c46a 5%, #2a9d39 45%);
        }

        #river {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 15%;
            right: 15%;
            background: #457b9d;
        }

        #boat {
            position: absolute;
            bottom: 10%;
            left: 45%;
            width: 60px;
            height: 150px;
            background: #8b4513;
            clip-path: polygon(50% 0%, 80% 20%, 80% 90%, 50% 100%, 20% 90%, 20% 20%);
        }

        .oar {
            position: absolute;
            width: 80px;
            height: 5px;
            background: #a0522d;
        }

        .oar.left {
            left: -40px;
            top: 50%;
            transform: rotate(-30deg);
        }

        .oar.right {
            right: -40px;
            top: 50%;
            transform: rotate(30deg);
        }

        .control-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .control-button {
            padding: 15px 30px;
            font-size: 18px;
            background-color: #f1faee;
            color: #1d3557;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        .control-button:active {
            background-color: #a8dadc;
        }

        .rock {
            background: #6d6875;
            width: 40px;
            height: 35px;
            border-radius: 50% 40% 60% 50% / 50% 60% 40% 50%;
            box-shadow: inset -5px -5px 10px rgba(0,0,0,0.5);
        }

        .branch {
            background: #8b4513;
            width: 50px;
            height: 10px;
            position: relative;
        }

        .branch::before, .branch::after {
            content: '';
            position: absolute;
            background: green;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .branch::before {
            top: -5px;
            left: 10px;
        }

        .branch::after {
            bottom: -5px;
            right: 10px;
        }
    </style>
</head>

<body>
    <div id="game-container">
        <div class="shore left"></div>
        <div id="river">
            <div id="boat">
                <div class="oar left"></div>
                <div class="oar right"></div>
            </div>
        </div>
        <div class="shore right"></div>
    </div>

    <div class="control-buttons">
        <button class="control-button" id="move-left">Left</button>
        <button class="control-button" id="move-right">Right</button>
    </div>

    <script>
        const boat = document.getElementById('boat');
        const river = document.getElementById('river');
        const moveLeftBtn = document.getElementById('move-left');
        const moveRightBtn = document.getElementById('move-right');

        const step = 10;
        let boatPosition = river.offsetWidth / 2 - boat.offsetWidth / 2;
        boat.style.left = `${boatPosition}px`;

        function moveBoat(direction) {
            const riverWidth = river.offsetWidth;
            const maxPosition = riverWidth - boat.offsetWidth;

            if (direction === 'left') {
                boatPosition = Math.max(0, boatPosition - step);
            } else if (direction === 'right') {
                boatPosition = Math.min(maxPosition, boatPosition + step);
            }

            boat.style.left = `${boatPosition}px`;
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') moveBoat('left');
            if (e.key === 'ArrowRight') moveBoat('right');
        });

        moveLeftBtn.addEventListener('click', () => moveBoat('left'));
        moveRightBtn.addEventListener('click', () => moveBoat('right'));

        // Obstacles
        function createObstacle() {
            const obstacleType = Math.random() > 0.5 ? 'rock' : 'branch';
            const obstacle = document.createElement('div');
            obstacle.className = obstacleType;
            obstacle.style.left = `${Math.random() * (river.offsetWidth - 50)}px`;
            obstacle.style.top = '0px';
            river.appendChild(obstacle);

            const interval = setInterval(() => {
                const obstacleTop = parseInt(obstacle.style.top) || 0;
                obstacle.style.top = `${obstacleTop + 5}px`;

                // Collision detection
                const boatRect = boat.getBoundingClientRect();
                const obstacleRect = obstacle.getBoundingClientRect();
                if (
                    boatRect.left < obstacleRect.left + obstacleRect.width &&
                    boatRect.left + boatRect.width > obstacleRect.left &&
                    boatRect.top < obstacleRect.top + obstacleRect.height &&
                    boatRect.height + boatRect.top > obstacleRect.top
                ) {
                    alert('You hit an obstacle! Game restarting.');
                    location.reload();
                }

                // Remove if off-screen
                if (obstacleTop > river.offsetHeight) {
                    clearInterval(interval);
                    obstacle.remove();
                }
            }, 50);
        }

        // Spawn obstacles every 2 seconds
        setInterval(createObstacle, 2000);
    </script>
</body>

</html>
